!function(e){"use strict";function i(e){var i=0;do isNaN(e.offsetTop)||(i+=e.offsetTop);while(e=e.offsetParent);return i}function t(e){var i=e||{};this.settings={sectionClass:i.sectionClass||"animated-section",mobileWidth:i.mobileWidth||640};var t=document.getElementsByClassName(this.settings.sectionClass);return t||console.error('Could not find any elements with the class "'+this.settings.sectionClass+'".'),this.sectionElements=[].slice.call(t),this.scrollingEnabled=!1,this.lastWindowHeight=window.innerHeight,this.inRAF=!1,this.shouldResize=!1,this.lastYOffset=window.pageYOffset,this.sectionMap=this._computeSectionMap(),this._onScroll(),this}t.prototype._computeSectionMap=function(){var e=[];return[].forEach.call(this.sectionElements,function(t){e.push({element:t,begin:Math.max(i(t)-3*this.lastWindowHeight/4,0),sectionId:t.dataset.sectionId})}.bind(this)),e},t.prototype._onScroll=function(){for(var e=0;e<this.sectionMap.length;e++)if(this.lastYOffset>=this.sectionMap[e].begin)return this.sectionMap[e].element.className+=" section-visible",this.sectionMap.splice(e,1),this.sectionElements.splice(e,1),void(this.inRAF=!1);this.inRAF=!1},t.prototype._getOnScroll=function(){var e=this,i=function(){e.lastYOffset=window.pageYOffset,e.shouldResize?e._onResize():e.inRAF||(e.inRAF=!0,window.requestAnimationFrame(e._onScroll.bind(e)))};return i},t.prototype._onResize=function(){this.scrollingEnabled&&window.innerWidth<=this.settings.mobileWidth?this.disable():!this.scrollingEnabled&&window.innerWidth>this.settings.mobileWidth&&this._enableScrolling(),this.scrollingEnabled&&(this.sectionMap=this._computeSectionMap(),this._onScroll()),this.inRAF=!1,this.shouldResize=!1},t.prototype._getOnResize=function(){var e=this,i=function(){e.shouldResize=!0,e.lastWindowHeight=window.innerHeight,e.lastYOffset=window.pageYOffset,e.inRAF||(e.inRAF=!0,window.requestAnimationFrame(e._onResize.bind(e)))};return i},t.prototype._enableScrolling=function(){window.addEventListener("scroll",this.onScroll),this.scrollingEnabled=!0,setTimeout(function(){console.log(document.body.className.replace("is-mobile","")),document.body.className=document.body.className.replace("is-mobile","")},400)},t.prototype._disableScrolling=function(){window.removeEventListener("scroll",this.onScroll),this.scrollingEnabled=!1,document.body.className+=" is-mobile"},t.prototype.enable=function(){this.onResize=this._getOnResize(),this.onScroll=this._getOnScroll(),window.addEventListener("resize",this.onResize),window.addEventListener("orientationchange",this.onResize),window.addEventListener("load",this.onResize),window.innerWidth>this.settings.mobileWidth?this._enableScrolling():this.disable()},t.prototype.disable=function(){this._disableScrolling(),window.removeEventListener("orientationchange",this.onResize),window.removeEventListener("resize",this.onResize),window.removeEventListener("load",this.onResize)},"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t:e.Sections=t}(this);